function Base64Image(c){var a=c;this.getImage=function(f,e){var d=new Image();d.addEventListener("load",function(g){b("created",{id:f,image:this,width:e.width,height:e.height})});d.src=e.img};this.getCMYImage=function(i,h,g,e,d){var f=new Image();f.addEventListener("load",function(n){var r=document.createElement("canvas");r.width=this.width;r.height=this.height;var j=r.getContext("2d");j.drawImage(this,0,0);var s=j.getImageData(0,0,this.width,this.height);var p,k,q;for(var o=0;o<s.data.length;o+=4){p=(1-(s.data[o+0]/255))*g;k=(1-(s.data[o+1]/255))*e;q=(1-(s.data[o+2]/255))*d;s.data[o+0]=Math.floor((1-p)*255);s.data[o+1]=Math.floor((1-k)*255);s.data[o+2]=Math.floor((1-q)*255)}j.putImageData(s,0,0);var l=new Image();l.src=r.toDataURL();l.addEventListener("load",function(m){b("created",{id:i,image:this})})});f.src=h.img};this.getRGBImage=function(i,h,f,g,d){var e=new Image();e.addEventListener("load",function(n){var q=document.createElement("canvas");q.width=this.width;q.height=this.height;var k=q.getContext("2d");k.drawImage(this,0,0);var s=k.getImageData(0,0,this.width,this.height);var j,m,p;for(var o=0;o<s.data.length;o+=4){j=(s.data[o+0]/255)*f;m=(s.data[o+1]/255)*g;p=(s.data[o+2]/255)*d;s.data[o+0]=Math.floor((j)*255);s.data[o+1]=Math.floor((m)*255);s.data[o+2]=Math.floor((p)*255)}k.putImageData(s,0,0);var l=new Image();l.src=q.toDataURL();l.addEventListener("load",function(r){b("created",{id:i,image:this})})});e.src=h.img};this.getRGBImageData=function(i,h,f,g,d){var e=new Image();e.addEventListener("load",function(n){var l=document.createElement("canvas");l.width=this.width;l.height=this.height;var j=l.getContext("2d");j.drawImage(this,0,0);var k=j.getImageData(0,0,this.width,this.height);for(var m=0;m<k.data.length;m+=4){k.data[m]=Math.floor(k.data[m]*f);k.data[m+1]=Math.floor(k.data[m+1]*g);k.data[m+2]=Math.floor(k.data[m+2]*d)}b("created",{id:i,image:k})});e.src=h};this.getRImage=function(g,f,d){var e=new Image();e.addEventListener("load",function(m){var k=document.createElement("canvas");k.width=this.width;k.height=this.height;var i=k.getContext("2d");i.drawImage(this,0,0);var j=i.getImageData(0,0,this.width,this.height);for(var l=0;l<j.data.length;l+=4){j.data[l]=Math.floor(j.data[l]*d);j.data[l+1]=0;j.data[l+2]=0}i.putImageData(j,0,0);var h=new Image();h.src=k.toDataURL();h.addEventListener("load",function(n){b("created",{id:g,image:this})})});e.src=f};this.getGImage=function(g,f,d){var e=new Image();e.addEventListener("load",function(m){var k=document.createElement("canvas");k.width=this.width;k.height=this.height;var i=k.getContext("2d");i.drawImage(this,0,0);var j=i.getImageData(0,0,this.width,this.height);for(var l=0;l<j.data.length;l+=4){j.data[l]=0;j.data[l+1]=Math.floor(j.data[l+1]*d);j.data[l+2]=0}i.putImageData(j,0,0);var h=new Image();h.src=k.toDataURL();h.addEventListener("load",function(n){b("created",{id:g,image:this})})});e.src=f};this.getBImage=function(g,f,d){var e=new Image();e.addEventListener("load",function(m){var k=document.createElement("canvas");k.width=this.width;k.height=this.height;var i=k.getContext("2d");i.drawImage(this,0,0);var j=i.getImageData(0,0,this.width,this.height);for(var l=0;l<j.data.length;l+=4){j.data[l]=0;j.data[l+1]=0;j.data[l+2]=Math.floor(j.data[l+2]*d)}i.putImageData(j,0,0);var h=new Image();h.src=k.toDataURL();h.addEventListener("load",function(n){b("created",{id:g,image:this})})});e.src=f};this.getRImageData=function(g,f,d){var e=new Image();e.addEventListener("load",function(l){var j=document.createElement("canvas");j.width=this.width;j.height=this.height;var h=j.getContext("2d");h.drawImage(this,0,0);var i=h.getImageData(0,0,this.width,this.height);for(var k=0;k<i.data.length;k+=4){i.data[k]=Math.floor(i.data[k]*d);i.data[k+1]=0;i.data[k+2]=0}b("created",{id:g,image:i})});e.src=f};this.getGImageData=function(g,f,d){var e=new Image();e.addEventListener("load",function(l){var j=document.createElement("canvas");j.width=this.width;j.height=this.height;var h=j.getContext("2d");h.drawImage(this,0,0);var i=h.getImageData(0,0,this.width,this.height);for(var k=0;k<i.data.length;k+=4){i.data[k]=0;i.data[k+1]=Math.floor(i.data[k+1]*d);i.data[k+2]=0}b("created",{id:g,image:i})});e.src=f};this.getBImageData=function(g,f,d){var e=new Image();e.addEventListener("load",function(l){var j=document.createElement("canvas");j.width=this.width;j.height=this.height;var h=j.getContext("2d");h.drawImage(this,0,0);var i=h.getImageData(0,0,this.width,this.height);for(var k=0;k<i.data.length;k+=4){i.data[k]=0;i.data[k+1]=0;i.data[k+2]=Math.floor(i.data[k+2]*d)}b("created",{id:g,image:i})});e.src=f};function b(e,d){if(a!=null){a.apply(this,[e,d])}}this.createRGBImageData=function(e,i,k,f){var h=document.createElement("canvas");h.width=e.width;h.height=e.height;var d=h.getContext("2d");d.drawImage(e,0,0);var g=d.getImageData(0,0,e.width,e.height);for(var j=0;j<g.data.length;j+=4){g.data[j]=Math.floor(g.data[j]*i);g.data[j+1]=Math.floor(g.data[j+1]*k);g.data[j+2]=Math.floor(g.data[j+2]*f)}return g}};
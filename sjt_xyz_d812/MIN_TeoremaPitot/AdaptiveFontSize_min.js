var AdaptiveFontSize=new function(){var h=[{name:"serif",refSize:1194.189453125,scale:1},{name:"sans-serif",refSize:1272.802734375,scale:1}];var d=100;var f="abcdefghijklmnopqrstuvwxyz";var c="px|pt|pc|em|ex|%|cm|mm|in|ch|rem|vh|vw|vmin|vmax";g();function g(){var k=document.createElement("canvas");var m=k.getContext("2d");var j;for(var l=0;l<h.length;l++){m.font=d+"px "+h[l].name;j=m.measureText(f).width;h[l].scale=h[l].refSize/j}m=null;k=null}this.add=function(k,j){var m=document.createElement("canvas");var p=m.getContext("2d");p.font=d+"px "+k;var l=p.measureText(f).width;var q=-1;for(var o=0;o<h.length;o++){if(h[o].name==k){q=o;break}}if(q<0){h.push({name:k,refSize:j,scale:j/l})}else{h[q].refSize=j;h[q].scale=j/l}p=null;m=null};this.fix=function(i){return e(i,1)};this.fixGetSize=function(i){return b(i,1)};this.fixWithScale=function(i,j){return e(i,j)};this.getVerticalCenteringDelta=function(q,m){var j;j=new RegExp("[\\d.]+("+c+")");var l=q.search(j);if(l<0){return 0}else{var z=j.exec(q);var B=z[0];var A=z[1];if(A!="px"){return 0}else{j=/[\d.]+/;var r=j.exec(B)[0];var o=Math.round(Number(r));var k=document.createElement("canvas");var i=k.getContext("2d");i.font=q;w=Math.round(i.measureText(m).width);k.width=w;k.height=o;i.font=q;i.textAlign="center";i.textBaseline="middle";i.fillStyle="#000000";i.fillText(m,w/2,o/2);var u=hb=0;var l;var p=i.getImageData(0,0,w,o);for(var t=0;t<p.height;t++){for(var v=0;v<p.width;v++){l=t*4*p.width+4*v}}for(var t=0;t<p.height;t++){for(var v=0;v<p.width;v++){l=t*4*p.width+4*v;if(p.data[l+3]>0){u=t;break}}if(u>0){break}}for(var t=0;t<p.height;t++){for(var v=0;v<p.width;v++){l=(p.height-t-1)*4*p.width+4*v;if(p.data[l+3]>0){hb=t;break}}if(hb>0){break}}i=null;k=null;return(hb-u)/2}}};function e(i,j){return a(i,j,false)}function b(i,j){return a(i,j,true)}function a(p,m,x){var j;j=new RegExp("[\\d.]+("+c+")");var k=p.search(j);if(k<0){return p}else{var t=j.exec(p);var v=t[0];var u=t[1];j=/[\d.]+/;var r=j.exec(v)[0];var q;var l=false;for(var o=0;o<h.length;o++){j=new RegExp("\\b"+h[o].name+"\\b");q=j.exec(p);if(q!=null){l=false;if(q.index>0){l=p.substr(q.index-1,1)!=" "}if((q.index+q[0].length)<p.length){l=p.substr(q.index+q[0].length,1)!=" "}if(!l){r*=h[o].scale*m;break}}}if(x){return(r)}else{return p.replace(v,r+u)}}}this.getReferenceSize=function(i){var k=document.createElement("canvas");var l=k.getContext("2d");l.font=d+"px "+i;var j=l.measureText(f).width;l=null;k=null;return j};this.calc=function(n,j){var p;var o=n;var m;var k=false;for(var l=0;l<h.length;l++){p=new RegExp("\\b"+h[l].name+"\\b");m=p.exec(j);if(m!=null){k=false;if(m.index>0){k=j.substr(m.index-1,1)!=" "}if((m.index+m[0].length)<j.length){k=j.substr(m.index+m[0].length,1)!=" "}if(!k){o*=h[l].scale;break}}}return o};this.getSize=function(j){var l;l=new RegExp("[\\d.]+("+c+")");var m=j.search(l);if(m<0){return 0}else{var i=l.exec(j);var k=i[0];l=/[\d.]+/;return l.exec(k)[0]}}};
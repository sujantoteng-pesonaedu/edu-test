function TeoremaPitot(){var p_containerName;var containerMode;var jsNames=new Array({name:"Base64Font_min.js"},{name:"Base64Image_min.js"},{name:"AdaptiveFontSize_min.js"},{name:"PesonaEduButton_min.js"},{name:"fontTabel_min.js"},{name:"gambar_min.js"},{name:"PesonaTextBlock_min.js"},{name:"Pitot_min.js"},{name:"Pesona_Mistar_min.js"});var jsLoadedCount;var imageAudioLoadedCount;var imageAudioNames=new Array();var imageAudioTotal=imageAudioNames.length;var imageAudioAssets=new Array(imageAudioTotal);var language="en";var usingLang=language;var speakLang="en-US";var message;this.setLanguage=function(lang){language=lang};var modeSoal=0;this.setMode=function(d){modeSoal=Math.max(0,Math.min(1,d))};var resetOnArrived=false;this.resetStorage=function(resets,suffix){resetOnArrived=resets;if(suffix!==undefined){storagePrefix+=suffix}};var isShowLoading=true;this.showLoading=function(sl){isShowLoading=sl};var p_containerName;var containerMode;var thinSpace="\u2009";var hairSpace="\u200A";var selisih=0;this.start=function(containerName,size){p_containerName=containerName;containerMode=size;const lessThan=thinSpace+"<"+thinSpace;switch(language){case"id":default:usingLang=language;speakLang="id-ID";break;case"en":case"en-us":usingLang=language;speakLang="en-US";break}if(isShowLoading){initSplashScreen()}letsBegin()};var laguN=0;var dengar=true;var splashDiv;var loadingLabel;function initSplashScreen(){var sheet=document.createElement("style");sheet.type="text/css";sheet.innerHTML=".modalDialog { position: fixed; font-family: Arial, Helvetica, sans-serif; top: 0; right: 0; bottom: 0; left: 0; z-index: 99999; opacity:1; -webkit-transition: opacity 400ms ease-in; -moz-transition: opacity 400ms ease-in; transition: opacity 400ms ease-in;} .modalDialog > div { display: table; color:#000000;  width: 60vmin; height: 12vmin; position: absolute; top:0;  bottom:0; left:0; right:0; margin:auto; padding: 0px 2vmin 0px 2vmin; border-radius: 2vmin; border:2px solid #303030; background: #ffffff; text-align:center; box-shadow: 0.3vmin 0.3vmin 0.3vmin rgba(0,0,0,0.5);}";document.body.appendChild(sheet);splashDiv=document.createElement("div");splashDiv.id="openModal";splashDiv.className="modalDialog";var mySubDiv=document.createElement("div");splashDiv.appendChild(mySubDiv);loadingLabel=document.createElement("p");loadingLabel.style.fontSize="2.5vmin";loadingLabel.style.display="table-cell";loadingLabel.style.verticalAlign="middle";loadingLabel.textContent="?";mySubDiv.appendChild(loadingLabel);document.body.appendChild(splashDiv)}function splashMessage(msg){if(typeof loadingLabel=="object"){loadingLabel.textContent=msg}}function endSplashScreen(){if(splashDiv){document.body.removeChild(splashDiv)}}var waitRequest;var waitList=new Array();var targetAfterWait;function waitLoop(){var f=true;for(var i=0;i<waitList.length;i++){f=f&&eval(waitList[i])}if(f){cancelAnimationFrame(waitRequest);if(targetAfterWait!=null){targetAfterWait()}}else{waitRequest=requestAnimFrame(waitLoop)}}function startWait(list,target){waitList.length=0;for(var i=0;i<list.length;i++){waitList.push(list[i])}targetAfterWait=target;waitLoop()}function clearWait(){cancelAnimationFrame(waitRequest)}var storagePrefixHead="PEDU_Geometri";var storagePrefix=storagePrefixHead+"_TeoremaPitot";const canvasWidth=800;const canvasHeight=900;var container;var canvasPos;var xScale=1;var yScale=1;var xGlobal,yGlobal;var mainCanvas,mainContext;var iconCanvas,iconContext;var waitJs;var waitImageAudio;var waitGetImage;var waitOpenDB;var waitReadDB;var canvasList;function letsBegin(){waitJs=false;jsLoadedCount=1;includeJs("PesonaBasic_min.js");startWait(["waitJs"],letsBegin1)}function letsBegin1(){container=document.getElementById(p_containerName);var res=PesonaBasic.setStageMode(container,canvasWidth,canvasHeight,containerMode);xScale=res.scale.x;yScale=res.scale.y;xGlobal=res.pos.x;yGlobal=res.pos.y;mainCanvas=document.createElement("canvas");mainContext=PesonaBasic.addCanvas("main",{canvas:mainCanvas,index:0,x:0,y:0,width:canvasWidth,height:canvasHeight},true);mainCanvas.style.backgroundColor="#ffffff";letsBegin2()}function letsBegin2(){if(jsNames.length==0){waitJs=true}else{waitJs=false;jsLoadedCount=jsNames.length;for(var i=0;i<jsNames.length;i++){includeJs(jsNames[i].name)}}window.addEventListener("resize",winResizeOpening,false);startOpeningAnimation(mainContext,canvasWidth/2,canvasHeight/2);startWait(["waitJs"],AyoMulai)}function includeJs(jsFilePath){var js=document.createElement("script");js.type="text/javascript";js.src=jsFilePath;js.onreadystatechange=jsLoad_callback;js.onload=jsLoad_callback;var head=document.getElementsByTagName("head").item(0);head.appendChild(js)}function jsLoad_callback(){jsLoadedCount--;if(jsLoadedCount==0){waitJs=true}}var opColor=["rgb(90,90,90)","rgb(180,180,180)","rgb(90,90,90)","rgb(180,180,180)","rgb(90,90,90)","rgb(180,180,180)","rgb(90,90,90)"];var openingContext;var openingX,openingY;var openingW,openingH;var openingRequest;var openingAnimateTs;var openingInterval=120;var openingWantToStop=false;var openingNextTarget;var openingLama;function startOpeningAnimation(context,xOrg,yOrg){openingWantToStop=false;openingContext=context;openingX=xOrg;openingY=yOrg;startOpeningAnimation0()}function startOpeningAnimation0(){openingW=80;openingH=80;openingAnimateTs=Date.now();openingLoop()}function stopOpeningAnimation(lama,target){openingLama=lama;openingNextTarget=target;openingWantToStop=true}function openingLoop(){var t=Date.now()-openingAnimateTs;openingAnimationOLD(t);if(openingWantToStop){if(t>=openingLama){cancelAnimationFrame(openingRequest);openingContext.clearRect(openingX-openingW/2-5,openingY-openingH/2-5,openingW+10,openingH+10);openingNextTarget.apply(this)}else{openingRequest=requestAnimFrame(openingLoop)}}else{openingRequest=requestAnimFrame(openingLoop)}}function openingAnimation(t){openingContext.clearRect(openingX-openingW/2-5,openingY-openingH/2-5,openingW+10,openingH+10);var phase=Math.PI*t/1000;var s,dx,dy;var r=openingW/2;openingContext.beginPath();for(var a=0;a<=360;a++){s=a*Math.PI/180;dx=r*Math.sin(s+phase);dy=r*Math.cos(s);if(a==0){openingContext.moveTo(openingX+dx,openingY-dy)}else{openingContext.lineTo(openingX+dx,openingY-dy)}}openingContext.lineWidth=4;openingContext.strokeStyle="#808080";openingContext.stroke()}function openingAnimationOLD(t){var r=16;var g=3;var w=7*2*r+6*g;var x=openingX-w/2+r;var y=openingY;openingW=w+6;openingH=r+r+6;openingContext.clearRect(openingX-openingW/2,openingY-openingH/2,openingW,openingH);var a=4*t/1000;var c;var p=Math.PI*3/4;for(var i=0;i<7;i++){c=2+(r-2)*Math.abs(Math.cos(a+i*p/7));openingContext.beginPath();openingContext.arc(x,y,c,0,PI360);openingContext.fillStyle=opColor[i];openingContext.fill();x+=r+r+g}}var base64Image;var imageCount;var sImage=new Array();var imageList=[];var indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;var storeDB;function AyoMulai(){Mulai();waitImageAudio=true;waitGetImage=true;base64Image=new Base64Image(imageCreated);var imgIdx=Object.keys(imageTable);imageList.length=0;var f;for(var i=0;i<imgIdx.length;i++){if(imageTable[imgIdx[i]].lang){f=(imageTable[imgIdx[i]].lang==usingLang)}else{f=true}if(f){imageList.push({index:imageTable[imgIdx[i]].index,object:imageTable[imgIdx[i]].object,action:imageTable[imgIdx[i]].action})}}imageCount=imageList.length;if(imageCount==0){waitGetImage=true}for(var i=0;i<imageCount;i++){base64Image.getImage(imageList[i].index,imageList[i].object)}startWait(["waitImageAudio","waitGetImage"],Mulai)}function eventImageAudioLoaded(){imageAudioLoadedCount--;if(imageAudioLoadedCount==0){waitImageAudio=true}}function imageCreated(tag,para){if(tag=="created"){sImage[para.id]=para.image;if(sImage[para.id].width==0){sImage[para.id].width=para.width}if(sImage[para.id].height==0){sImage[para.id].height=para.height}imageCount--;if(imageCount==0){waitGetImage=true}}}function Mulai(){Mulai0()}var waitFont=false;var fontCount=0;function Mulai0(){waitFont=(fontTable.length==0);var base64Font=new Base64Font(fontLoaded);fontCount=fontTable.length;for(var i=0;i<fontTable.length;i++){base64Font.load(fontTable[i].index,fontTable[i].object)}startWait(["waitFont"],Mulai1)}function fontLoaded(tag,para){if(tag=="loaded"){fontCount--;if(fontCount==0){waitFont=true}}}function Mulai1(){Mulai2()}function Mulai2(){endSplashScreen();Mulai3()}function Mulai3(){stopOpeningAnimation(800,Mulai4)}var buttons=new Array();const PI360=2*Math.PI;const PI90=0.5*Math.PI;var font80;function Mulai4(){window.removeEventListener("resize",winResizeOpening);window.addEventListener("resize",winResize,false);mainCanvas.addEventListener("mousedown",canvasMouseDown);mainCanvas.addEventListener("touchstart",canvasTouchDown);document.addEventListener("visibilitychange",handleVisibilityChange,false);mulaiMain()}function keyinHandler(e){for(var i=0;i<buttons.length;i++){if(buttons[i].keyin(e.key)){break}}}var haltTime;function handleVisibilityChange(){if(document.hidden){}else{if(haltTime){var dt=Date.now()-haltTime}}}function openDB(callback){var request=indexedDB.open(storagePrefix+"DB",1);request.onerror=function(event){callback(false)};request.onsuccess=function(event){storeDB=request.result;callback(true)};request.onupgradeneeded=function(event){var db=event.target.result;var objectStore=db.createObjectStore(storagePrefix+"hasil",{keyPath:"id"})}}function writeDB(id,isi){if(storeDB){var request=storeDB.transaction(storagePrefix+"hasil","readwrite").objectStore(storagePrefix+"hasil").put({id:id,isi:isi})}}function readDB(id,callback){if(storeDB){var request=storeDB.transaction(storagePrefix+"hasil","readonly").objectStore(storagePrefix+"hasil").get(id);request.onerror=function(event){callback(null,id)};request.onsuccess=function(event){callback(request.result,id)}}else{callback(null,id)}}function openDBCallback(f){if(f){waitOpenDB=true}else{console.log("open db fail")}}function firstLoadResultSuccess(res,id){if(res!=null){var s=JSON.parse(res.isi);if(s.n){laguN=s.n}if(s.dengar!=null){dengar=s.dengar}}waitReadDB=true}function saveAttribute(){var atr=KTT.getAttribute();var s=JSON.stringify(atr);writeDB(storagePrefix,s)}function loadAttribute(callback){readDB(storagePrefix,callback)}function containerTouchDown(e){var res=PesonaBasic.getStage();if(!e){var e=window.event}var touch=e.targetTouches[0];var x=(touch.pageX-res.pos.x)/res.scale.x;var y=(touch.pageY-res.pos.y)/res.scale.y;if(x>=0&&x<canvasWidth&&y>=0&&y<canvasHeight){e.preventDefault();e.stopPropagation()}}function writeLocalStorage(key,val){try{if(typeof(Storage)!=="undefined"){localStorage.setItem(key,val)}}catch(e){}}window.requestAnimFrame=(function(callback){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)}})();window.cancelRequestAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})();var animRequest;function AnimationLoop(){if(PITOT){PITOT.loop()}animRequest=requestAnimFrame(AnimationLoop)}function refreshAll(){for(var i=0;i<buttons.length;i++){buttons[i].redraw()}if(PITOT){PITOT.redraw()}}var PITOT;var butMistar,butSnap;function mulaiMain(){PITOT=new Pitot("main",0,0,language,objectHandler);AnimationLoop()}function initButtons(){butMistar=new PesonaEduButton({name:"busur",img:[sImage.mistar_off,sImage.mistar_on],stat:false},-1,canvasWidth-40,180,{width:80,height:60,margin:{left:2,right:2,top:2,bottom:2}},{func:iconTombol,par:[1]},{func:areaTombol,par:[1]},{func:iconTombol,par:[0.98]},{func:areaTombol,par:[0.98]},null,true,true,null,null,true);buttons.push(butMistar);for(var i=0;i<buttons.length;i++){buttons[i].setCallback(tombolHandler)}}function objectHandler(tag,para){switch(tag){case"ready":initButtons();break;case"simpan":simpanParameter(para.val);break;case"getParameter":if(!resetOnArrived){return ambilParameterTersimpan()}break}}function simpanParameter(para){writeLocalStorage(storagePrefix+"_parameter",JSON.stringify(para))}function ambilParameterTersimpan(){try{if(typeof(Storage)!=="undefined"){var temp;var f=false;temp=localStorage.getItem(storagePrefix+"_parameter");if(temp!=null){return JSON.parse(temp)}}}catch(e){}return null}function toggleAlat(){var stat=PITOT.toggleAlat();var id=butMistar.getId();id.stat=stat;butMistar.setId(id);butMistar.redraw()}function toggleSnap(){var stat=PITOT.toggleLock();var id=butSnap.getId();id.stat=stat;butSnap.setId(id);butSnap.redraw()}function iconFixed(id,context,x,y,par,width,height){var skl=par[0]}function iconTombol(id,context,x,y,par,width,height){var skl=par[0];switch(id.name){case"busur":case"snap":var w=skl*width;var h=skl*height;var r=h/2;context.beginPath();context.roundedRectExt(x-w/2+(width-w),y-h/2,w,h,r,0,0,r);context.fillStyle="rgba(180,180,180,0.6)";context.fill();var s=(id.stat)?id.img[0]:id.img[1];var sw=2*r;var sh=s.height*sw/s.width;context.drawImage(s,x+(width-w)-0.45*sw,y-sh/2,sw,sh);break}}function areaTombol(xPoint,yPoint,id,context,x,y,par,width,height,hotspot){var skl=par[0];var f=false;switch(id.name){case"busur":case"snap":var w=skl*width;var h=skl*height;var r=w/2;var w=skl*width;var h=skl*height;var r=h/2;context.beginPath();context.roundedRectExt(x-w/2+(width-w),y-h/2,w,h,r,0,0,r);context.closePath();f=context.isPointInPath(xPoint,yPoint);break}return f}function tombolHandler(tag,para){switch(tag){case"click":switch(para.id.name){}break;case"release":switch(para.id.name){case"busur":toggleAlat();break;case"snap":toggleSnap();break}}}var action;var ACTION={NONE:0,MOVEPOINTER:1,SCROLLTABLE:2,POINTTABLE:3};var isDown=false;var isTouch=false;var touchId;var mouseButton;function setMouseUp(){if(downMode=="mouse"){document.addEventListener("mouseup",canvasMouseUp)}else{document.addEventListener("touchend",canvasTouchUp)}}function releaseMouseUp(){if(downMode=="mouse"){document.removeEventListener("mouseup",canvasMouseUp)}else{document.removeEventListener("touchend",canvasTouchUp)}}function canvasMouseDown(e){downMode="mouse";if(!e){var e=window.event}e.preventDefault();e.stopPropagation();if(e.buttons==undefined||e.buttons==1||e.buttons==2){mouseButton=e.button;canvasDown(e,e)}}var touchId;function canvasTouchDown(e){downMode="touch";if(!e){var e=window.event}e.preventDefault();e.stopPropagation();if(e.targetTouches.length==1){var touch=e.targetTouches[0];touchId=touch.identifier;canvasDown(e,touch)}}var pressDx,pressDy;var selectedN;function canvasDown(e,eOrTouch){action=ACTION.NONE;var posS={x:eOrTouch.pageX,y:eOrTouch.pageY};var pos={x:(posS.x-xGlobal)/xScale,y:(posS.y-yGlobal)/yScale};var f=false;for(var i=0;i<buttons.length;i++){if(buttons[i].pointDown(e,posS.x,posS.y,downMode,0)){setMouseUp();f=true;break}}if(action!=ACTION.NONE){if(downMode=="mouse"){document.addEventListener("mousemove",canvasMouseMove)}else{document.addEventListener("touchmove",canvasTouchMove)}}}function canvasMouseUp(e){if(!e){var e=window.event}e.preventDefault();e.stopPropagation();if(e.button==mouseButton){upMode="mouse";document.removeEventListener("mousemove",canvasMouseMove);canvasUp(e,e)}}function canvasTouchUp(e){if(!e){var e=window.event}e.preventDefault();e.stopPropagation();upMode="touch";var touch=e.changedTouches[0];if(touch.identifier==touchId){document.removeEventListener("touchmove",canvasTouchMove);canvasUp(e,touch)}}function canvasUp(e,eOrTouch){var pos;var posS={x:eOrTouch.pageX,y:eOrTouch.pageY};var f=false;for(var i=0;i<buttons.length;i++){if(buttons[i].pointUp(e,posS.x,posS.y,upMode,0)){f=true;break}}releaseMouseUp();document.body.style.cursor="default";action=ACTION.NONE}function canvasMouseMove(e){if(!e){var e=window.event}e.preventDefault();e.stopPropagation();canvasMove(e,e)}function canvasTouchMove(e){if(!e){var e=window.event}var touch=e.changedTouches[0];if(touch.identifier==touchId){e.preventDefault();e.stopPropagation();canvasMove(e,touch)}}function canvasMove(e,eOrTouch){var posS={x:eOrTouch.pageX,y:eOrTouch.pageY};var pos={x:(posS.x-xGlobal)/xScale,y:(posS.y-yGlobal)/yScale}}function canvasMouseWheel(e){if(!e){var e=window.event}var posS={x:e.pageX,y:e.pageY}}function Bezier(u,controlP){if(controlP.length==1){return{x:controlP[0].x,y:controlP[0].y}}else{var newP=new Array();var n=controlP.length-1;for(var i=0;i<n;i++){newP.push({x:(1-u)*controlP[i].x+u*controlP[i+1].x,y:(1-u)*controlP[i].y+u*controlP[i+1].y})}return Bezier(u,newP)}}CanvasRenderingContext2D.prototype.circle=function(x,y,r){var aa;var dx,dy;var d=2;this.beginPath();this.moveTo(x+r,y);for(var a=d;a<360;a+=d){aa=a*Math.PI/180;dx=r*Math.cos(aa);dy=r*Math.sin(aa);this.lineTo(x+dx,y-dy)}this.closePath()};CanvasRenderingContext2D.prototype.roundedRect=function(x,y,w,h,r){this.moveTo(x+r,y);this.arcTo(x+w,y,x+w,y+h,r);this.arcTo(x+w,y+h,x,y+h,r);this.arcTo(x,y+h,x,y,r);this.arcTo(x,y,x+w,y,r)};CanvasRenderingContext2D.prototype.roundedRectExt=function(x,y,w,h,r1,r2,r3,r4){this.moveTo(x+r1,y);this.arcTo(x+w,y,x+w,y+h,r2);this.arcTo(x+w,y+h,x,y+h,r3);this.arcTo(x,y+h,x,y,r4);this.arcTo(x,y,x+w,y,r1)};CanvasRenderingContext2D.prototype.roundRect=function(x,y,w,h,r){if(w<2*r){r=w/2}if(h<2*r){r=h/2}this.beginPath();this.moveTo(x+r,y);this.arcTo(x+w,y,x+w,y+h,r);this.arcTo(x+w,y+h,x,y+h,r);this.arcTo(x,y+h,x,y,r);this.arcTo(x,y,x+w,y,r);this.closePath()};CanvasRenderingContext2D.prototype.roundRectExt=function(x,y,w,h,r1,r2,r3,r4){this.beginPath();this.moveTo(x+r1,y);this.arcTo(x+w,y,x+w,y+h,r2);this.arcTo(x+w,y+h,x,y+h,r3);this.arcTo(x,y+h,x,y,r4);this.arcTo(x,y,x+w,y,r1);this.closePath()};CanvasRenderingContext2D.prototype.clearMe=function(){this.save();this.setTransform(1,0,0,1,0,0);this.clearRect(0,0,this.canvas.width,this.canvas.height);this.restore()};Number.prototype.myToLocaleString=function(minDigits,maxDigits){if(minDigits<0&&maxDigits<0){return this.toLocaleString(language,{useGrouping:false})}else{var t=Math.pow(10,maxDigits);var n=Math.round(this*t)/t;var res=n.toLocaleString(language,{useGrouping:false,minimumFractionDigits:minDigits,maximumFractionDigits:maxDigits});var i=res.indexOf(".");if(i<0){i=res.indexOf(",")}if(i>=0){res=(res+"00000").substr(0,i+maxDigits+1)}return res}};function findAbsolutePosition(obj){var curleft=curtop=0;if(obj.offsetParent){do{curleft+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent)}return{x:curleft,y:curtop}}function winResizeOpening(){var rExp=/%/;if(rExp.test(container.style.width)||rExp.test(container.style.height)){var res=PesonaBasic.refreshCanvases();xScale=res.scale.x;yScale=res.scale.y;xGlobal=res.pos.x;yGlobal=res.pos.y}}function winResize(){var rExp=/%/;if(rExp.test(container.style.width)||rExp.test(container.style.height)){var res=PesonaBasic.refreshCanvases();xScale=res.scale.x;yScale=res.scale.y;xGlobal=res.pos.x;yGlobal=res.pos.y}refreshAll()}};
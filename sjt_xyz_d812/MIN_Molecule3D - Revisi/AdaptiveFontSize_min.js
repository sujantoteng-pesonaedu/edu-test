var AdaptiveFontSize=new function(){var e=[{name:"serif",refSize:1194.189453125,scale:1},{name:"sans-serif",refSize:1272.802734375,scale:1}];var b=100;var c="abcdefghijklmnopqrstuvwxyz";var a="px|pt|pc|em|ex|%|cm|mm|in|ch|rem|vh|vw|vmin|vmax";d();function d(){var g=document.createElement("canvas");var j=g.getContext("2d");var f;for(var h=0;h<e.length;h++){j.font=b+"px "+e[h].name;f=j.measureText(c).width;e[h].scale=e[h].refSize/f}j=null;g=null}this.add=function(g,f){var j=document.createElement("canvas");var l=j.getContext("2d");l.font=b+"px "+g;var h=l.measureText(c).width;var m=-1;for(var k=0;k<e.length;k++){if(e[k].name==g){m=k;break}}if(m<0){e.push({name:g,refSize:f,scale:f/h})}else{e[m].refSize=f;e[m].scale=f/h}l=null;j=null};this.fix=function(k){var f;f=new RegExp("[\\d.]+("+a+")");var g=k.search(f);if(g<0){return k}else{var m=f.exec(k);var q=m[0];var p=m[1];f=/[\d.]+/;var o=f.exec(q)[0];var l;var h=false;for(var j=0;j<e.length;j++){f=new RegExp("\\b"+e[j].name+"\\b");l=f.exec(k);if(l!=null){h=false;if(l.index>0){h=k.substr(l.index-1,1)!=" "}if((l.index+l[0].length)<k.length){h=k.substr(l.index+l[0].length,1)!=" "}if(!h){o*=e[j].scale;break}}}return k.replace(q,o+p)}};this.getReferenceSize=function(f){var h=document.createElement("canvas");var i=h.getContext("2d");i.font=b+"px "+f;var g=i.measureText(c).width;i=null;h=null;return g};this.calc=function(k,f){var m;var l=k;var j;var g=false;for(var h=0;h<e.length;h++){m=new RegExp("\\b"+e[h].name+"\\b");j=m.exec(f);if(j!=null){g=false;if(j.index>0){g=f.substr(j.index-1,1)!=" "}if((j.index+j[0].length)<f.length){g=f.substr(j.index+j[0].length,1)!=" "}if(!g){l*=e[h].scale;break}}}return l}};
var AdaptiveFontSize=new function(){var f=[{name:"serif",refSize:1194.189453125,scale:1},{name:"sans-serif",refSize:1272.802734375,scale:1}];var b=100;var d="abcdefghijklmnopqrstuvwxyz";var a="px|pt|pc|em|ex|%|cm|mm|in|ch|rem|vh|vw|vmin|vmax";e();function e(){var h=document.createElement("canvas");var k=h.getContext("2d");var g;for(var j=0;j<f.length;j++){k.font=b+"px "+f[j].name;g=k.measureText(d).width;f[j].scale=f[j].refSize/g}k=null;h=null}this.add=function(h,g){var k=document.createElement("canvas");var m=k.getContext("2d");m.font=b+"px "+h;var j=m.measureText(d).width;var o=-1;for(var l=0;l<f.length;l++){if(f[l].name==h){o=l;break}}if(o<0){f.push({name:h,refSize:g,scale:g/j})}else{f[o].refSize=g;f[o].scale=g/j}m=null;k=null};this.fix=function(g){return c(g,1)};this.fixWithScale=function(g,h){return c(g,h)};this.getVerticalCenteringDelta=function(p,l){var i;i=new RegExp("[\\d.]+("+a+")");var k=p.search(i);if(k<0){return 0}else{var v=i.exec(p);var A=v[0];var z=v[1];if(z!="px"){return 0}else{i=/[\d.]+/;var q=i.exec(A)[0];var m=Math.round(Number(q));var j=document.createElement("canvas");var g=j.getContext("2d");g.font=p;w=Math.round(g.measureText(l).width);j.width=w;j.height=m;g.font=p;g.textAlign="center";g.textBaseline="middle";g.fillStyle="#000000";g.fillText(l,w/2,m/2);var t=hb=0;var k;var o=g.getImageData(0,0,w,m);for(var r=0;r<o.height;r++){for(var u=0;u<o.width;u++){k=r*4*o.width+4*u}}for(var r=0;r<o.height;r++){for(var u=0;u<o.width;u++){k=r*4*o.width+4*u;if(o.data[k+3]>0){t=r;break}}if(t>0){break}}for(var r=0;r<o.height;r++){for(var u=0;u<o.width;u++){k=(o.height-r-1)*4*o.width+4*u;if(o.data[k+3]>0){hb=r;break}}if(hb>0){break}}g=null;j=null;return(hb-t)/2}}};function c(m,k){var g;g=new RegExp("[\\d.]+("+a+")");var h=m.search(g);if(h<0){return m}else{var p=g.exec(m);var t=p[0];var r=p[1];g=/[\d.]+/;var q=g.exec(t)[0];var o;var j=false;for(var l=0;l<f.length;l++){g=new RegExp("\\b"+f[l].name+"\\b");o=g.exec(m);if(o!=null){j=false;if(o.index>0){j=m.substr(o.index-1,1)!=" "}if((o.index+o[0].length)<m.length){j=m.substr(o.index+o[0].length,1)!=" "}if(!j){q*=f[l].scale*k;break}}}return m.replace(t,q+r)}}this.getReferenceSize=function(g){var i=document.createElement("canvas");var j=i.getContext("2d");j.font=b+"px "+g;var h=j.measureText(d).width;j=null;i=null;return h};this.calc=function(l,g){var n;var m=l;var k;var h=false;for(var j=0;j<f.length;j++){n=new RegExp("\\b"+f[j].name+"\\b");k=n.exec(g);if(k!=null){h=false;if(k.index>0){h=g.substr(k.index-1,1)!=" "}if((k.index+k[0].length)<g.length){h=g.substr(k.index+k[0].length,1)!=" "}if(!h){m*=f[j].scale;break}}}return m};this.getSize=function(h){var j;j=new RegExp("[\\d.]+("+a+")");var k=h.search(j);if(k<0){return 0}else{var g=j.exec(h);var i=g[0];j=/[\d.]+/;return j.exec(i)[0]}}};
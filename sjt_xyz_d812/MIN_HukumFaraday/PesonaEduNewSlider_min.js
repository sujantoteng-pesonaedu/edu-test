function PesonaEduNewSlider(E,N,D,C,a,d,w,v,G,M,k,g,H){var t="PENewSlider_back_"+E.name;var e="PENewSlider_point_"+E.name;var q=document.createElement("canvas");var s=PesonaBasic.addCanvas(t,{canvas:q,index:-1,x:D,y:C,width:a,height:d},false);var m=document.createElement("canvas");var b=PesonaBasic.addCanvas(e,{canvas:m,index:-1,x:D,y:C,width:a,height:d},false);q.style.visibility="hidden";m.style.visibility="hidden";var I=false;var i=true;var B=PesonaBasic.getStage();var p=B.scale.x;var J=B.scale.y;var L=PesonaBasic.getAbsolutePosition(e);var h=Math.min(M,k);var l=Math.max(M,k);var n=Math.min(l,Math.max(h,g));var u=n;var j=l-h;K();o();this.setValue=function(O){u=Math.min(l,Math.max(h,O));o()};this.setPos=function(O,P){D=O;C=P;PesonaBasic.changeCanvasPos(t,D,C);PesonaBasic.changeCanvasPos(e,D,C);L=PesonaBasic.getAbsolutePosition(e)};this.refresh=function(){K();o()};this.getMinMax=function(){return{min:M,max:k}};this.visible=function(O){I=O;if(I){q.style.visibility="visible";m.style.visibility="visible"}else{q.style.visibility="hidden";m.style.visibility="hidden"}};this.enable=function(O){i=O};this.redraw=function(){var O=PesonaBasic.getStage();p=O.scale.x;J=O.scale.y;L=PesonaBasic.getAbsolutePosition(e);K();o()};var F;this.pointDown=function(R,Q,P,S,O){if(i&&I){F=O;return x(R,Q,P,S,O)}};this.pointUp=function(R,Q,P,S,O){if(F==O){return c(R,Q,P,S,O)}return false};this.pointMove=function(R,Q,P,S,O){return A(R,Q,P,S,O)};function K(){z("drawSlider",{id:E,type:N,context:s,x:w,y:v,size:G,minVal:h,maxVal:l,visibled:I,enabled:i})}function o(){var O=w+G*(u-h)/j;z("drawPointer",{id:E,type:N,context:b,x:w,y:v,size:G,minVal:h,maxVal:l,curVal:u,visibled:I,enabled:i})}var r=false;var y;function x(R,W,T,O,Y){f=false;var X=W-L.x;var V=T-L.y;var Q=X/p;var P=V/J;const U=window.devicePixelRatio||1;var S=z("checkPointer",{id:E,type:N,context:b,pointX:X*U,pointY:V*U,x:w,y:v,size:G,minVal:h,maxVal:l,curVal:u,visibled:I,enabled:i,downMode:O});if(S){switch(N){case 0:y=Q-(w+G*(u-h)/j);f=true;break;case 1:break}}return f}function c(R,S,Q,P,O){return true}function A(R,W,U,O,Z){var Y=W-L.x;var V=U-L.y;var Q=Y/p;var P=V/J;var T,S;switch(N){case 0:var T=Q-y;var X=(T-w)*j/G+h;X=Math.min(l,Math.max(h,X));u=z("validateValue",{id:E,value:X});o();z("changeValue",{id:E,minVal:h,maxVal:l,value:u});case 1:break}}function z(P,O){if(H!=null){return H.apply(this,[P,O])}else{return null}}};